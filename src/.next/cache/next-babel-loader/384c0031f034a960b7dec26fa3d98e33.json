{"ast":null,"code":"// export default (req, res) => {\n//   res.statusCode = 200\n//   res.setHeader('Content-Type', 'application/json')\n//   res.end(JSON.stringify({ name: 'John Doe' }))\n// }\nimport nextConnect from 'next-connect';\nimport middleware from '../../middleware/database'; // const model = require('../model/user')\n\nconst handler = nextConnect();\nhandler.use(middleware);\nhandler.get(async (req, res) => {\n  // model.findOne((err, result) => {\n  //   res.json(result)\n  // })\n  // // console.log('fjdk', req.db)\n  // let doc = await req.db.collection('user')\n  // // console.log(doc)\n  // res.json({ tes: 'dsdfsf' })\n  // res.send('njdkshdj')\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'application/json');\n  res.end(JSON.stringify({\n    name: 'John Doe'\n  }));\n}); // handler.post(async (req, res) => {\n//   let data = req.body\n//   data = JSON.parse(data)\n//   let doc = await req.db.collection('user').updateOne({ name: 'new name' }, { $set: data }, { upsert: true })\n//   res.json({ message: 'ok' })\n// })\n\nexport default ((req, res) => handler.apply(req, res));","map":null,"metadata":{},"sourceType":"module"}