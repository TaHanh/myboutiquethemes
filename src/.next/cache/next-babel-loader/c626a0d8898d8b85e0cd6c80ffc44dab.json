{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Layout from '../components/layout';\nimport '../static/styles/home.scss';\nimport Aside from '../components/aside';\nimport Swiper from 'react-id-swiper';\nimport { useState, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport config from '../config';\nimport Axios from 'axios';\nimport { connect } from 'react-redux';\nimport { state } from '../store/redux';\nvar limit = 2;\n\nfunction Home(props) {\n  var [data, setData] = useState([]);\n  var [isLoad, setLoad] = useState(false);\n  var [isLoadBtn, setLoadBtn] = useState(true);\n  var [page, setPage] = useState(1);\n  useEffect(() => {\n    setData(props.posts);\n  }, []);\n\n  var callBack = (key, value) => {};\n\n  var loadMore = () => {\n    setLoad(true);\n    var pageNew = page + 1;\n    setPage(pageNew);\n    Axios.get(config.host.base + config.path.base.posts + '?page=' + page + '&&limit=' + limit).then(res => {\n      if (res.data.length > 0) {\n        var newData = data.concat(res.data);\n        setData(newData);\n      } else {\n        setLoadBtn(false);\n      }\n    }).catch(err => {\n      console.log(err);\n    }).finally(fil => {\n      setLoad(false);\n    });\n  };\n\n  var postUser = () => {\n    axios.get('http://localhost:3000/api/user/5eb3e4674c407c266cad309c').then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    }); // axios\n    //   .post('http://localhost:3000/api/user', {\n    //     role: 'user',\n    //     name: 'Nguyễn Văn Hạnh',\n    //     email: 'hanh@mail.com',\n    //     password: 'hanh123',\n    //     username: 'hanh123',\n    //   })\n    //   .then(function (response) {\n    //     console.log(response)\n    //   })\n    //   .catch(function (error) {\n    //     console.log(error)\n    //   })\n    // axios\n    //   .put('http://localhost:3000/api/user/5eb26679a735a65714fab608', {\n    //     role: 'user',\n    //     name: 'Nguyễn Văn',\n    //     email: 'hanh@mail.com',\n    //     password: 'hanh123',\n    //     username: 'hanh123',\n    //   })\n    //   .then(function (response) {\n    //     console.log(response)\n    //   })\n    //   .catch(function (error) {\n    //     console.log(error)\n    //   })\n    // axios\n    //   .delete('http://localhost:3000/api/user/5eb26679a735a65714fab608')\n    //   .then(function (response) {\n    //     console.log(response)\n    //   })\n    //   .catch(function (error) {\n    //     console.log(error)\n    //   })\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: 'Blush'\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-branding\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/blush-classic\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require('../static/images/blush_title.png')\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-content\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-main\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"entry-thumbnail\",\n    onClick: () => postUser()\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require('../static/images/the_tonik_b.jpg')\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"entry-body\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"entry-header\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"entry-meta\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://demo.myboutiquethemes.com/blush-classic/category/lifestyle/\"\n  }, \"LIFESTYLE\"), \",\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://demo.myboutiquethemes.com/blush-classic/category/travel/\"\n  }, \" TRAVEL\")), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"entry-title\"\n  }, \"WHAT I LEARNT FROM BLOGGING IN THE LAST 5 YEARS\"), state.foo), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"entry-content\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam \\u2026\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, data && data.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-12\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"small\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-thumbnail\"\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: config.client.posts + '/' + item.idPost\n    }, /*#__PURE__*/React.createElement(\"a\", null, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"w-100\",\n      src: require('../static/images/blush_flowers_b.jpg')\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-body\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-header\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-meta\"\n    }, item.tags && item.tags.map((e, i) => {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        href: '/' + e\n      }, e, \" \", i != item.tags.length - 1 ? ', ' : null);\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"entry-title\"\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: config.client.posts + '/' + item.idPost\n    }, /*#__PURE__*/React.createElement(\"a\", null, item.title)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-content\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, item.description), /*#__PURE__*/React.createElement(Link, {\n      href: config.client.posts + '/' + item.idPost\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"readmore\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn read-more\"\n    }, \"Read more\")))))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\"\n  }, isLoadBtn ? isLoad ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"sr-only\"\n  }, \"Loading...\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"readmore\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn read-more\",\n    onClick: () => loadMore()\n  }, \"read more\")) : null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4\"\n  }, /*#__PURE__*/React.createElement(Aside, {\n    categories: props.categories,\n    compositions: props.compositions\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"after-content-home\"\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    class: \"widgettitle\"\n  }, \"Follow my Youtube Journey\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"youtube-gallery\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"youtube-video\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.youtube.com/watch?v=5S4y_GpaU-c\",\n    title: \"CHANGE YOUR APPEARANCE with LOA & Self-Love\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"youtube-thumb\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"w-100\",\n    src: require('../static/images/yt1.jpg'),\n    alt: \"CHANGE YOUR APPEARANCE with LOA & Self-Love\"\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"icon\",\n    src: require('../static/images/ic_play_red.png')\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    class: \"video-title\"\n  }, \"CHANGE YOUR APPEARANCE with LOA & Self-Love\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"youtube-video\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.youtube.com/watch?v=-I9S1F_zTCM\",\n    title: \"CHANGE YOUR APPEARANCE with LOA & Self-Love\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"youtube-thumb\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"w-100\",\n    src: require('../static/images/yt2.jpg'),\n    alt: \"CHANGE YOUR APPEARANCE with LOA & Self-Love\"\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"icon\",\n    src: require('../static/images/ic_play_red.png')\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    class: \"video-title\"\n  }, \"I May Never Get Married... | EGO vs SOUL Journey\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"youtube-video\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.youtube.com/watch?v=PkzAJ4oKqQU\",\n    title: \"CHANGE YOUR APPEARANCE with LOA & Self-Love\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"youtube-thumb\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"w-100\",\n    src: require('../static/images/yt3.jpg'),\n    alt: \"CHANGE YOUR APPEARANCE with LOA & Self-Love\"\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"icon\",\n    src: require('../static/images/ic_play_red.png')\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    class: \"video-title\"\n  }, \"VIPASSANA: One Year Later...\"))))))));\n}\n\nHome.getInitialProps = /*#__PURE__*/_asyncToGenerator(function* () {\n  var posts = [];\n  var categories = [];\n  var compositions = [];\n  var resPost = yield Axios.get(config.host.base + config.path.base.posts + '?page=1&&limit=' + limit).catch(e => {\n    console.log('Error: ', e.code);\n  });\n  var resCate = yield Axios.get(config.host.base + config.path.base.categories).catch(e => {\n    console.log('Error: ', e.code);\n  });\n  var resCompos = yield Axios.get(config.host.base + config.path.base.compositions).catch(e => console.log('Error: ', e.code));\n  posts = resPost && resPost.data != undefined ? resPost.data : [];\n  categories = resCate && resCate.data != undefined ? resCate.data : [];\n  compositions = resCompos && resCompos.data || [];\n  return {\n    posts: posts,\n    categories: categories,\n    compositions: compositions\n  };\n});\nexport default Home; // export default connect()(Home)","map":null,"metadata":{},"sourceType":"module"}